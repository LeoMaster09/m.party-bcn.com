<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Pedir presupuesto</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="/assets/css/main.css"/>

  <script>window.WA_PHONE="34677745834";</script>
</head>
<body>
  <main class="container stack">

    <div class="topbar">
      <a class="back" href="/" aria-label="Volver">‹</a>
      <div class="h2" style="margin:0;">Presupuesto</div>
    </div>

    <div class="info-card">
      <h3 id="serviceTitle">Servicio</h3>
      <p>Déjanos los datos y te responderemos lo antes posible.</p>
    </div>

    <form class="form" id="leadForm" data-service="">
      <input id="name" class="input" placeholder="Nombre" autocomplete="name">
      <input id="phone" class="input" placeholder="Teléfono (WhatsApp)" inputmode="tel" autocomplete="tel">
      <input id="email" class="input" placeholder="E-mail" inputmode="email" autocomplete="email">
      <input id="date" class="input" placeholder="Fecha">
      <input id="place" class="input" placeholder="Ubicación">

      <div class="hours-wrap">
        <input id="hours" class="input" placeholder="Cuántas horas" value="2" inputmode="numeric">
        <div class="hours-controls">
          <button class="mini" id="hoursMinus" type="button">−</button>
          <button class="mini" id="hoursPlus" type="button">+</button>
        </div>
      </div>

      <button class="btn btn-primary" type="submit">Enviar</button>
      <a class="btn btn-wa" id="waBtn" href="#" data-wa="">WhatsApp</a>
    </form>

    <div class="note">
      Tiempo medio de respuesta: 1–3 horas (11:00–20:00 CET).
    </div>

  </main>

  <script src="/assets/js/app.js"></script>

  <script>
    (function(){
      const params = new URLSearchParams(window.location.search);
      const service = (params.get("service") || "Servicio").trim();

      const title = document.getElementById("serviceTitle");
      const form = document.getElementById("leadForm");
      const waBtn = document.getElementById("waBtn");

      title.textContent = service;
      form.setAttribute("data-service", service);

      // default WA text for the button (before form submit)
      const waText = `Hola, quiero pedir presupuesto de ${service}.`;
      waBtn.setAttribute("data-wa", waText);
    })();
  </script>
</body>
</html>
